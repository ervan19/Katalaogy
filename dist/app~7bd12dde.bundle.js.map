{"version":3,"file":"app~7bd12dde.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/data/favorite-restaurant-idb.js","webpack://restaurant-apps/./src/scripts/globals/api-endpoint.js","webpack://restaurant-apps/./src/scripts/data/restaurants-source.js","webpack://restaurant-apps/./src/scripts/globals/config.js","webpack://restaurant-apps/./src/scripts/index.js"],"sourcesContent":["import {openDB} from \"idb\";\nimport CONFIG from \"../globals/config\";\n\nconst {DATABASE_NAME, DATABASE_VERSION, OBJECT_STORE_NAME} = CONFIG;\n\nconst dbPromise = openDB(DATABASE_NAME, DATABASE_VERSION, {\n    upgrade(database) {\n        database.createObjectStore(OBJECT_STORE_NAME, {\n            keyPath: \"id\",\n        });\n    },\n});\n\nconst FavoriteRestaurantIdb = {\n    async getRestaurant(id) {\n        if (!id) {\n            return;\n        }\n\n        return (await dbPromise).get(OBJECT_STORE_NAME, id);\n    },\n\n    async getAllRestaurants() {\n        return (await dbPromise).getAll(OBJECT_STORE_NAME);\n    },\n\n    async putRestaurant(restaurant) {\n        if (!Object.prototype.hasOwnProperty.call(restaurant, \"id\")) {\n            return;\n        }\n        return (await dbPromise).put(OBJECT_STORE_NAME, restaurant);\n    },\n\n    async deleteRestaurant(id) {\n        return (await dbPromise).delete(OBJECT_STORE_NAME, id);\n    },\n\n    async searchRestaurants(query) {\n        return (await this.getAllRestaurants()).filter((restaurant) => {\n            const loweredCaseRestaurantName = (restaurant.name || \"-\").toLowerCase();\n            const jammedRestaurantName = loweredCaseRestaurantName.replace(/\\s/g, \"\");\n            const loweredCaseQuery = query.toLowerCase();\n            const jammedQuery = loweredCaseQuery.replace(/\\s/g, \"\");\n            return jammedRestaurantName.indexOf(jammedQuery) !== -1;\n        });\n    },\n};\n\nexport default FavoriteRestaurantIdb;\n","import CONFIG from \"./config\";\n\nconst API_ENDPOINT = {\n    RESTAURANT: `${CONFIG.BASE_URL}list`,\n    DETAIL: (id) => `${CONFIG.BASE_URL}detail/${id}`,\n    SEARCH: (query) => `${CONFIG.BASE_URL}search?q=${query}`,\n    ADD_REVIEW: `${CONFIG.BASE_URL}review`,\n};\n\nexport default API_ENDPOINT;\n","import API_ENDPOINT from \"../globals/api-endpoint\";\n\nclass RestaurantsSource {\n    static async restaurantsList() {\n        const response = await fetch(API_ENDPOINT.RESTAURANT);\n        const responseJson = await response.json();\n\n        return responseJson.restaurants;\n    }\n\n    static async detailRestaurant(id) {\n        const response = await fetch(API_ENDPOINT.DETAIL(id));\n        const responseJson = await response.json();\n        return responseJson.restaurant;\n    }\n\n    static async searchRestaurant(query) {\n        const response = await fetch(API_ENDPOINT.SEARCH(query));\n\n        return response.json();\n    }\n\n    static async addReview(data) {\n        const options = {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(data),\n        };\n\n        const response = await fetch(API_ENDPOINT.ADD_REVIEW, options);\n\n        const responseJson = await response.json();\n\n        return responseJson;\n    }\n}\n\nexport default RestaurantsSource;\n","const CONFIG = {\n    BASE_URL: \"https://restaurant-api.dicoding.dev/\",\n    BASE_IMAGE_URL: \"https://restaurant-api.dicoding.dev/images/\",\n    DATABASE_NAME: \"restaurant-catalog-database\",\n    DATABASE_VERSION: 1,\n    OBJECT_STORE_NAME: \"restaurants\",\n};\n\nexport default CONFIG;\n","import \"regenerator-runtime\";\nimport \"../styles/style.scss\";\nimport \"./view/components/headerBrand/header_brand\";\nimport \"./view/components/headerLink/header_link\";\nimport \"./view/components/navbar/navbar\";\nimport \"./view/components/footerContainer/footerContainer\";\nimport swRegister from \"./utils/sw-register\";\nimport App from \"./view/app\";\nimport \"lazysizes\";\nimport \"lazysizes/plugins/parent-fit/ls.parent-fit\";\n\nconst app = new App({\n    button: document.querySelector(\".hamburger-menu\"),\n    drawer: document.querySelector(\"nav\"),\n    content: document.querySelector(\"#main\"),\n});\n\nwindow.addEventListener(\"hashchange\", () => {\n    app.renderPage();\n});\n\nwindow.addEventListener(\"DOMContentLoaded\", async () => {\n    app.renderPage();\n    await swRegister();\n});\n"],"names":["openDB","CONFIG","DATABASE_NAME","DATABASE_VERSION","OBJECT_STORE_NAME","dbPromise","upgrade","database","createObjectStore","keyPath","FavoriteRestaurantIdb","getRestaurant","id","get","getAllRestaurants","getAll","putRestaurant","restaurant","Object","prototype","hasOwnProperty","call","put","deleteRestaurant","searchRestaurants","query","filter","loweredCaseRestaurantName","name","toLowerCase","jammedRestaurantName","replace","loweredCaseQuery","jammedQuery","indexOf","API_ENDPOINT","RESTAURANT","BASE_URL","DETAIL","SEARCH","ADD_REVIEW","RestaurantsSource","fetch","response","json","responseJson","restaurants","data","options","method","headers","body","JSON","stringify","BASE_IMAGE_URL","swRegister","App","app","button","document","querySelector","drawer","content","window","addEventListener","renderPage"],"sourceRoot":""}